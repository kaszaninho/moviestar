@model DatabaseAPI.Models.General.Invoice

@{
    ViewData["Title"] = "Order Confirmed";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg border-0 bg-dark text-white">
                <div class="card-header text-center bg-primary">
                    <h3 class="mb-0">Order Confirmed ✅</h3>
                </div>
                <div class="card-body">
                    <h5 class="text-success text-center">Your order was successful! 🎉</h5>

                    <div class="mt-4">
                        <p><strong>Invoice ID:</strong> @Model.InvoiceId</p>
                        <p><strong>Total Sum:</strong> @Model.TotalSum PLN</p>
                        <p><strong>Payment Method:</strong> @Model.PaymentMethod.Name</p>
                        <p><strong>Payment Status:</strong> @Model.PaymentStatus</p>
                        <p><strong>Order Status:</strong> @Model.OrderStatus</p>
                    </div>

                    @if (Model.CouponId != null)
                    {
                        <div class="bg-secondary p-3 rounded mt-4">
                            <h5 class="text-warning">🎟 Coupon Applied</h5>
                            <p><strong>Ticket Sum:</strong> @Model.TicketSum PLN</p>
                            <p><strong>Coupon Used:</strong> @Model.Coupon.Name</p>
                            <p><strong>Discount:</strong> -@Model.CouponDiscount PLN</p>
                            <h5><strong>Final Price:</strong> @(Model.TotalSum - Model.CouponDiscount) PLN</h5>
                        </div>
                    }

                    <div class="text-center mt-4">
                        <form asp-controller="Cart" asp-action="Index" method="get">
                            <button type="submit" class="btn btn-primary w-100">Go to the Cart</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
